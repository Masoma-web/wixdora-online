<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù… - Wixdora Shop</title>
<style>
    :root {
        --primary:#007bff;
        --success:#28a745;
        --danger:#dc3545;
        --light:#f8f9fa;
        --dark:#343a40;
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body { font-family:Tahoma, Arial, sans-serif; background:var(--light); padding-top:70px; }

    /* Navbar */
    .navbar { background:var(--primary); color:white; padding:1rem 0; position:fixed; top:0; width:100%; z-index:1000; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
    .nav-container { max-width:1200px; margin:0 auto; padding:0 15px; display:flex; justify-content:space-between; align-items:center; }
    .nav-brand { font-size:1.5rem; font-weight:bold; color:white; text-decoration:none; }
    .nav-links { display:flex; list-style:none; gap:1.5rem; }
    .nav-links a { color:white; text-decoration:none; padding:0.5rem 1rem; border-radius:5px; transition:0.3s; }
    .nav-links a:hover { background: rgba(255,255,255,0.2); }

    /* Forms */
    .form-container { width:90%; max-width:400px; margin:3rem auto; background:white; padding:2rem; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
    h2 { text-align:center; margin-bottom:1.5rem; color:var(--primary); }
    label { display:block; margin-bottom:0.3rem; color:#333; }
    input { width:100%; padding:0.7rem 1rem; margin-bottom:1rem; border:1px solid #ccc; border-radius:5px; }
    button { width:100%; padding:0.75rem; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer; font-size:1rem; transition:0.3s; }
    button:hover { background:#0056b3; }
    .toggle-link { text-align:center; margin-top:1rem; font-size:0.9rem; }
    .toggle-link a { color:var(--primary); cursor:pointer; text-decoration:none; }
    .toggle-link a:hover { text-decoration:underline; }

    .alert { background:#d4edda; color:#155724; padding:1rem; border-radius:5px; margin-bottom:1rem; display:none; text-align:center; }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <div class="nav-container">
        <a href="index.html" class="nav-brand">ğŸ›ï¸ Wixdora Shop</a>
        <ul class="nav-links">
            <li><a href="index.html">Ø®Ø§Ù†Ù‡</a></li>
            <li><a href="products.html">Ù…Ø­ØµÙˆÙ„Ø§Øª</a></li>
            <li><a href="cart.html">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</a></li>
            <li><a href="login.html">ÙˆØ±ÙˆØ¯</a></li>
        </ul>
    </div>
</nav>

<div class="form-container" id="form-container">
    <div class="alert" id="alert"></div>
    <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
    <div id="login-form">
        <h2>ÙˆØ±ÙˆØ¯</h2>
        <label for="login-email">Ø§ÛŒÙ…ÛŒÙ„</label>
        <input type="email" id="login-email" placeholder="Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
        <label for="login-password">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
        <input type="password" id="login-password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        <button onclick="login()">ÙˆØ±ÙˆØ¯</button>
        <div class="toggle-link">Ø­Ø³Ø§Ø¨ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ <a onclick="toggleForm()">Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù†ÛŒØ¯</a></div>
    </div>

    <!-- ÙØ±Ù… Ø«Ø¨Øª Ù†Ø§Ù… -->
    <div id="register-form" style="display:none;">
        <h2>Ø«Ø¨Øª Ù†Ø§Ù…</h2>
        <label for="reg-name">Ù†Ø§Ù…</label>
        <input type="text" id="reg-name" placeholder="Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
        <label for="reg-email">Ø§ÛŒÙ…ÛŒÙ„</label>
        <input type="email" id="reg-email" placeholder="Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
        <label for="reg-password">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
        <input type="password" id="reg-password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        <label for="reg-password2">ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
        <input type="password" id="reg-password2" placeholder="ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        <button onclick="register()">Ø«Ø¨Øª Ù†Ø§Ù…</button>
        <div class="toggle-link">Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø±ÛŒØ¯ØŸ <a onclick="toggleForm()">ÙˆØ±ÙˆØ¯ Ú©Ù†ÛŒØ¯</a></div>
    </div>
</div>

<script>
    function toggleForm() {
        document.getElementById('login-form').style.display =
            document.getElementById('login-form').style.display === 'none' ? 'block' : 'none';
        document.getElementById('register-form').style.display =
            document.getElementById('register-form').style.display === 'none' ? 'block' : 'none';
        document.getElementById('alert').style.display = 'none';
    }

    function showAlert(message) {
        const alertDiv = document.getElementById('alert');
        alertDiv.innerText = message;
        alertDiv.style.display = 'block';
        setTimeout(()=>{ alertDiv.style.display='none'; },3000);
    }

    // Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø± localStorage
    function register() {
        const name = document.getElementById('reg-name').value.trim();
        const email = document.getElementById('reg-email').value.trim();
        const pass = document.getElementById('reg-password').value;
        const pass2 = document.getElementById('reg-password2').value;

        if(!name || !email || !pass || !pass2){ showAlert("Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯!"); return; }
        if(pass !== pass2){ showAlert("Ø±Ù…Ø²Ù‡Ø§ Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ù†Ø¯!"); return; }

        let users = JSON.parse(localStorage.getItem('wixdora_users')) || [];
        if(users.some(u=>u.email===email)){ showAlert("Ø§ÛŒÙ† Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª!"); return; }

        users.push({name,email,password:pass});
        localStorage.setItem('wixdora_users',JSON.stringify(users));
        showAlert("Ø«Ø¨Øª Ù†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ âœ…");
        toggleForm();
    }

    function login() {
        const email = document.getElementById('login-email').value.trim();
        const pass = document.getElementById('login-password').value;

        if(!email || !pass){ showAlert("Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯!"); return; }

        let users = JSON.parse(localStorage.getItem('wixdora_users')) || [];
        const user = users.find(u=>u.email===email && u.password===pass);
        if(user){
            showAlert(`Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${user.name} âœ…`);
            setTimeout(()=>{ window.location.href='index.html'; },1500);
        } else {
            showAlert("Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!");
        }
    }
    function login() {
    const email = document.getElementById('login-email').value.trim();
    const pass = document.getElementById('login-password').value;

    if(!email || !pass){ showAlert("Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯!"); return; }

    let users = JSON.parse(localStorage.getItem('wixdora_users')) || [];
    const user = users.find(u=>u.email===email && u.password===pass);
    if(user){
        localStorage.setItem('wixdora_loggedIn', JSON.stringify(user)); // Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø§Ø±ÛŒ
        showAlert(`Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${user.name} âœ…`);
        setTimeout(()=>{ window.location.href='index.html'; },1500);
    } else {
        showAlert("Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!");
    }
}

// Ù‡Ù†Ú¯Ø§Ù… Ø®Ø±ÙˆØ¬:
function logout() {
    localStorage.removeItem('wixdora_loggedIn');
    window.location.href='index.html';
}

</script>
</body>
</html>
